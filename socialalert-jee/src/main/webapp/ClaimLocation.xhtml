<ui:composition template="/WEB-INF/templates/MasterTemplate.xhtml" 
	xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">
<ui:define name="content">
	<h:head>
		<script src="http://maps.google.com/maps/api/js?key=AIzaSyBWxkaqPv_cAbdPojte3XNzGSKuOzvQYps" type="text/javascript"></script>
	</h:head>
	<h:form>
		<p:growl id="messages" showDetail="true" sticky="false" life="2000" />
		<p:panel header="Location">
			<p:gmap center="#{fileClaimView.mapCenterString}" zoom="#{fileClaimView.mapZoomLevel}" type="HYBRID" style="height:400px" model="#{fileClaimView.mapModel}" id="map">
				<p:ajax event="stateChange" listener="#{fileClaimView.onMapStateChange}"/>
				<p:ajax event="pointSelect" listener="#{fileClaimView.onMapPointSelect}" update="messages map" />
			</p:gmap>
		</p:panel>
		<p:button value="Cancel" outcome="Upload"/>
		<p:commandButton type="submit" value="Previous" action="#{fileClaimView.updateMetadata}" ajax="false"/>
		<p:commandButton type="submit" value="Next" action="#{fileClaimView.confirmPublish}" ajax="false"/>
	</h:form>
</ui:define>
</ui:composition> 
