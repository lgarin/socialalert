<ui:composition template="/WEB-INF/templates/MasterTemplate.xhtml" 
	xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui">
<ui:define name="content">
	<h:head>
		<script src="http://maps.google.com/maps/api/js?key=AIzaSyBWxkaqPv_cAbdPojte3XNzGSKuOzvQYps" type="text/javascript"></script>
	</h:head>
	<h:form>
	   <p:growl id="messages" showDetail="true" sticky="false" life="2000" /> 
	   <p:panel header="Media">
		   <p:panelGrid>
		   		<p:row>
	   				<p:column style="font-weight:bold" colspan="2">Information</p:column>
		            <p:column style="width:420px" rowspan="6">
		            	<p:gmap center="#{fileClaimView.mapCenterString}" zoom="#{fileClaimView.mapZoomLevel}" type="HYBRID" style="height:320px" model="#{fileClaimView.mapModel}">
						</p:gmap>
					</p:column>
			    </p:row>
			    <p:row>
					<p:column><h:outputText value="Title" /></p:column>
					<p:column><h:outputText value="#{fileClaimView.title}" /></p:column>
				</p:row>
				<p:row>
					<p:column><h:outputText value="Categories" /></p:column>
					<p:column><h:outputText value="#{fileClaimView.categories}" converter="#{arrayConverter}" /></p:column>
				</p:row>
				<p:row>
					<p:column><h:outputText value="Tags" /></p:column>
					<p:column><h:outputText value="#{fileClaimView.tags}" converter="#{arrayConverter}" /></p:column>
				</p:row>
				<p:row>
					<p:column rowspan="2"><h:outputText value="Description" /></p:column>
					<p:column rowspan="2"><h:outputText value="#{fileClaimView.description}" /></p:column>
				</p:row>
				<p:row>
				</p:row>
		    </p:panelGrid>
		 </p:panel>
		 <p:panel header="File">
			<p:panelGrid>
				<p:row>
					<p:column style="font-weight:bold" colspan="2">Details</p:column>
					<p:column style="width:320px" rowspan="8">
						<p:graphicImage url="/rest/file/thumbnail/#{fileClaimView.selectedFile.fileUri}"></p:graphicImage>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Size" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.contentSize/1024/1024}">
							<f:convertNumber pattern="#,##0.0MB" />
						</h:outputText>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Upload date" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.timestamp}" converter="#{instantConverter}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Date taken" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.creation}" converter="#{instantConverter}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Duration" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.duration.seconds} sec" rendered="#{not empty fileClaimView.selectedFile.duration}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Format" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.fileFormat.contentType}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Resolution" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.width}x#{fileClaimView.selectedFile.height}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputText value="Camera" />
					</p:column>
					<p:column>
						<h:outputText value="#{fileClaimView.selectedFile.cameraMaker} #{fileClaimView.selectedFile.cameraModel}" />
					</p:column>
				</p:row>
			</p:panelGrid>
		</p:panel>
		<p:button value="Cancel" outcome="Upload"/>
		<p:commandButton type="submit" value="Previous" action="#{fileClaimView.updateLocation}" ajax="false"/>
		<p:commandButton type="submit" value="Publish" action="#{fileClaimView.publish}" ajax="false"/>
	</h:form>
</ui:define>
</ui:composition> 
